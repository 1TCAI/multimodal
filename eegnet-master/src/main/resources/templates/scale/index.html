<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>量表管理</title>

    <link th:href="@{/inspinia/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/inspinia/font-awesome/css/font-awesome.css}" rel="stylesheet">

    <link th:href="@{/inspinia/js/plugins/jquery-ui/jquery-ui.min.css}" rel="stylesheet">
    <link th:href="@{/inspinia/css/plugins/jqGrid/ui.jqgrid.css}" rel="stylesheet">
    <link th:href="@{/inspinia/css/animate.css}" rel="stylesheet">
    <link th:href="@{/inspinia/css/plugins/dataTables/datatables.min.css}" rel="stylesheet">
    <link th:href="@{/inspinia/css/plugins/datapicker/datepicker3.css}"
          href="../inspinia/css/plugins/datapicker/datepicker3.css" rel="stylesheet">

    <link th:href="@{/inspinia/css/plugins/chosen/bootstrap-chosen.css}"
          href="../inspinia/css/plugins/chosen/bootstrap-chosen.css" rel="stylesheet">

    <link th:href="@{/inspinia/css/style.css}" rel="stylesheet">

    <link th:href="@{/inspinia/css/plugins/sweetalert/sweetalert.css}" rel="stylesheet">
    <link th:href="@{/inspinia/css/plugins/ladda/ladda-themeless.min.css}" rel="stylesheet">
    <link th:href="@{/css/common.css}" href="../css/common.css" rel="stylesheet">
</head>

<body>
<!-- Mainly scripts -->
<script th:src="@{/inspinia/js/jquery-3.1.1.min.js}"></script>
<script th:src="@{/inspinia/js/popper.min.js}"></script>
<script th:src="@{/inspinia/js/bootstrap.js}"></script>
<script th:src="@{/inspinia/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
<script th:src="@{/inspinia/js/plugins/slimscroll/jquery.slimscroll.min.js}"></script>

<!-- jqGrid -->
<script th:src="@{/inspinia/js/plugins/jqGrid/i18n/grid.locale-cn.js}"></script>
<script th:src="@{/inspinia/js/plugins/jqGrid/jquery.jqGrid.min.js}"></script>

<!-- Custom and plugin javascript -->
<script th:src="@{/inspinia/js/inspinia.js}"></script>
<script th:src="@{/inspinia/js/plugins/pace/pace.min.js}"></script>
<script th:src="@{/inspinia/js/plugins/jquery-ui/jquery-ui.min.js}"></script>
<script th:src="@{/inspinia/js/plugins/sweetalert/sweetalert.min.js}"></script>
<script th:src="@{/inspinia/js/jquery.form.js}"></script>

<!-- Data picker -->
<script th:src="@{/inspinia/js/plugins/datapicker/bootstrap-datepicker.js}"></script>

<!-- Ladda -->
<script th:src="@{/inspinia/js/plugins/ladda/spin.min.js}"></script>
<script th:src="@{/inspinia/js/plugins/ladda/ladda.min.js}"></script>
<script th:src="@{/inspinia/js/plugins/ladda/ladda.jquery.min.js}"></script>
<script th:src="@{/inspinia/js/plugins/chosen/chosen.jquery.js}"></script>
<script th:src="@{/inspinia/js/plugins/dataTables/datatables.min.js}"></script>
<script th:src="@{/inspinia/js/plugins/dataTables/datatables.bootstrap4.min.js}"></script>
<script th:src="@{/inspinia/js/plugins/dataTables/datatables.reload.js}"></script>
<script th:src="@{/inspinia/js/plugins/validate/jquery.validate.min.js}"></script>
<script th:src="@{/js/jquery.validate.js}"></script>

<script th:src="@{/js/scale/update.js}"></script>
<script th:src="@{/js/scale/index.js}"></script>

<shiro:hasPermission name="scale:update">
    <script type="text/javascript">
        function editScaleShow() {
            $('.editScale').css('display', '');
        }
    </script>
</shiro:hasPermission>

<shiro:hasPermission name="scale:delete">
    <script type="text/javascript">
        function deleteScaleShow() {
            $('.deleteScale').css('display', '');
        }
    </script>
</shiro:hasPermission>

<div id="wrapper">

    <!-- include menus.html -->
    <!--    <div th:replace="menus::common"></div>-->

    <div id="page-wrapper" class="gray-bg">

        <!-- include head.html -->
        <!--        <div th:replace="head::head"></div>-->
        <div th:replace="navi::navi"></div>
        <div class="wrapper wrapper-content animated fadeInRight ecommerce">

            <div class="ibox-content m-b-sm border-bottom">

                <form onsubmit="return false;" role="form" style="padding: 0px">
                    <div class="row">
                        <div class="col-sm-4">
<!--                            <button type="button" class="btn btn-outline btn-primary btn-tool btn-sm" id="btn_search"-->
<!--                                    onclick="reload()">-->
<!--                                <i class="fa fa-search"></i> 筛选-->
<!--                            </button>-->
                            <shiro:hasPermission name="scale:create">
                                <button type="button"
                                        class="btn btn-outline btn-success btn-tool btn-sm"
                                        id="btn_import">
                                    <i class="fa fa-upload"></i> 导入
                                </button>
                            </shiro:hasPermission>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2">
                            <div class="form-group">
                                <label class="col-form-label" for="scaleType_s">量表类型</label>
                                <select class="chosen-select" id="scaleType_s" name="scaleType">
                                    <option value="">请选择</option>
                                    <option th:each="scaleType:${scaleTypeList}" th:value="${scaleType.id}"
                                            th:text="${scaleType.scaleType}"></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="form-group">
                                <label class="col-form-label" for="patientNumber_s">门诊号/住院号</label>
                                <input type="text" id="patientNumber_s" class="form-control"
                                       onkeyup="this.value=this.value.replace(/\s+/g,'')">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="form-group">
                                <label class="col-form-label" for="rowDate_s">日期</label>
                                <div class="input-group date" id="div_rowDate_s">
                                    <input readonly style="background: #fff;" type="text" class="input-sm form-control"
                                           name="rowDate_s"
                                           id="rowDate_s"/>
                                    <span class="input-sm input-group-addon">
                        <i class="fa fa-calendar"></i>
                        </span>
                                </div>
                            </div>
                        </div>
                        <!--<div class="col-sm-2">-->
                            <!--<div class="form-group">-->
                                <!--<label class="col-form-label" for="birthday_s">出生日期</label>-->
                                <!--<div class="input-group date" id="div_birthday_s">-->
                                    <!--<input readonly style="background: #fff;" type="text" class="input-sm form-control"-->
                                           <!--name="birthday"-->
                                           <!--id="birthday_s"/>-->
                                    <!--<span class="input-sm input-group-addon">-->
                                        <!--<i class="fa fa-calendar"></i>-->
                                    <!--</span>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</div>-->

                        <!--<div class="col-sm-2">-->
                            <!--<label class="col-form-label" for="patientGender_s">性别</label>-->
                            <!--<select id="patientGender_s" data-placeholder="请选择" class="chosen-select">-->
                                <!--<option value="">全部</option>-->
                                <!--<option value="1">男</option>-->
                                <!--<option value="0">女</option>-->
                            <!--</select>-->
                        <!--</div>-->

                        <!--<div class="col-sm-2">-->
                            <!--<div class="form-group">-->
                                <!--<label class="col-form-label" for="diseaseType_s">疾病类型</label>-->
                                <!--<select class="chosen-select" id="diseaseType_s" name="diseaseType">-->
                                    <!--<option value="">全部</option>-->
                                    <!--<option th:each="diseaseType:${diseaseTypeList}" th:value="${diseaseType.id}"-->
                                            <!--th:text="${diseaseType.diseaseType}"></option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->

                        <!--<div class="col-sm-2">-->
                            <!--<div class="form-group">-->
                                <!--<label class="col-form-label" for="diagnose_s">诊断</label>-->
                                <!--<input type="text" id="diagnose_s" class="form-control">-->
                            <!--</div>-->
                        <!--</div>-->

                        <!--<div class="col-sm-2">-->
                            <!--<label class="col-form-label" for="dimensions_s">严重程度</label>-->
                            <!--<select id="dimensions_s" data-placeholder="请选择" class="chosen-select">-->
                                <!--<option value="">全部</option>-->
                                <!--<option value="1">一级</option>-->
                                <!--<option value="2">二级</option>-->
                                <!--<option value="3">三级</option>-->
                                <!--<option value="4">四级</option>-->
                                <!--<option value="5">五级</option>-->
                            <!--</select>-->
                        <!--</div>-->
                        <div class="col-sm-1" style="text-align: left">
                            <label class="col-form-label">&nbsp;</label>
                            <div class="form-group">
                                <button type="button" id="btn_search" class="btn btn-outline btn-default" onclick="reload()"><i class="fa fa-search"></i> 筛选
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
                <table id="table_list" class="table table-striped table-bordered"
                       style="width:100%;text-align: center;"></table>

                <div class="modal inmodal fade" id="imgUrlImgModal" aria-hidden="true" data-backdrop="static">
                    <div class="modal-dialog modal-lg" style="height: 230px;width: 300px">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"><span
                                        aria-hidden="true">&times;</span><span class="sr-only">关闭</span></button>
                                <img id="imgUrl" width="100%"/>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal inmodal" id="uploadModal" role="dialog" aria-hidden="true" data-backdrop="static">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">&times;</span>
                                    <span class="sr-only">Close</span>
                                </button>
                                <h5>量表信息导入</h5>
                                <hr/>
                                <form class="form-horizontal" id="upload_excel_form" enctype="multipart/form-data">

                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label class=" col-form-label">请选择量表类型：</label>
                                                <select class="chosen-select" id="import_scaleType" name="scaleType">
                                                    <option value="">请选择</option>
                                                    <option th:each="scaleType:${scaleTypeList}"
                                                            th:value="${scaleType.id}"
                                                            th:text="${scaleType.scaleType}"></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-8">
                                            <div class="custom-file">
                                                <input id="excel_file" type="file" class="custom-file-input"
                                                       name="excelFile">
                                                <label for="excel_file" class="custom-file-label">选择文件...</label>
                                            </div>
                                        </div>

                                        <div class="col-sm-4">
                                            <button id="btn_upload_excel_file" type="button"
                                                    data-style="zoom-in" class="btn btn-primary btn-lg">
                                                <i class="fa fa-upload"></i> 上传
                                            </button>
                                        </div>
                                    </div>
                                    <div class="row" style="margin-top: 10px;">
                                        <div class="col-sm-3" style="color: red;">*注意：</div>
                                        <div class="col-sm-10" style="color: red;margin-left:-60px">
                                            1.excel 第一列为 [门诊号] 第二列为 [住院号] 第三列为 [日期]<br>
                                            2.请去掉表头，第一行为数据
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- include foot.html -->
        <!--        <div th:replace="foot::foot"></div>-->
    </div>
</div>
<div class="modal inmodal fade" id="myModal" tabindex="-1" role="dialog" data-backdrop="static"
     aria-hidden="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content animated fadeIn">
            <div class="modal-header">
                <h4 class="modal-title">添加EEG记录</h4>
            </div>
            <div class="modal-body">
                <div th:replace="scale/dialog_update::scale_dialog"></div>
            </div>
        </div>
    </div>
</div>
</body>
</html>